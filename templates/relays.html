{% extends "base.html" %}

{% block title %}Relays{% endblock %}

{% block content %}
<section id="relaysContainer">
  {% for unit in relays %}
    <div class="relay-module" data-unit-idx="{{ unit.idx }}">
      <div class="relay-header">
        <h2>{{ unit.name }}</h2>
        <small>Slave ID: {{ unit.slave_id }}</small>
      </div>
      <div class="relay-buttons">
        {% for coil_idx in range(unit.coil_count) %}
          <button
            class="onoff-button loading"
            data-unit-idx="{{ unit.idx }}"
            data-coil-idx="{{ coil_idx }}"
          >...</button>
        {% endfor %}
      </div>
    </div>
  {% endfor %}
</section>
{% endblock %}

{% block scripts %}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.0/socket.io.min.js"></script>
  <script src="{{ url_for('static', filename='js/relays.js') }}"></script>
{% endblock %}